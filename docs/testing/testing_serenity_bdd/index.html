<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Testing - End to End Automation with Serenity BDD Java | Amido Stacks</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Testing - End to End Automation with Serenity BDD Java | Amido Stacks"><meta data-react-helmet="true" name="description" content="Getting started"><meta data-react-helmet="true" property="og:description" content="Getting started"><meta data-react-helmet="true" property="og:url" content="https://amido.github.io/stacks/docs/testing/testing_serenity_bdd"><link data-react-helmet="true" rel="shortcut icon" href="/stacks/img/thumbnail_stacks.png"><link data-react-helmet="true" rel="canonical" href="https://amido.github.io/stacks/docs/testing/testing_serenity_bdd"><link rel="stylesheet" href="/stacks/styles.addbe53e.css">
<link rel="preload" href="/stacks/styles.a9aa97cb.js" as="script">
<link rel="preload" href="/stacks/runtime~main.07fe97c7.js" as="script">
<link rel="preload" href="/stacks/main.07e3b808.js" as="script">
<link rel="preload" href="/stacks/1.708654f4.js" as="script">
<link rel="preload" href="/stacks/2.fc96d4af.js" as="script">
<link rel="preload" href="/stacks/3.c611d954.js" as="script">
<link rel="preload" href="/stacks/1be78505.4bc75bd4.js" as="script">
<link rel="preload" href="/stacks/81.27d21960.js" as="script">
<link rel="preload" href="/stacks/935f2afb.6e42c6a8.js" as="script">
<link rel="preload" href="/stacks/17896441.048ebb65.js" as="script">
<link rel="preload" href="/stacks/2103665d.3418cf1f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/stacks/"><img class="navbar__logo" src="/stacks/img/logo.svg" alt="Amido Stacks Logo"><strong class="navbar__title">Amido Stacks</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/stacks/docs/">Docs</a><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/stacks/"><img class="navbar__logo" src="/stacks/img/logo.svg" alt="Amido Stacks Logo"><strong class="navbar__title">Amido Stacks</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/stacks/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/">About Amido Stacks</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Build the application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/getting_started_demo">Using the scaffolding-cli to build an application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/getting_started_dev">Dev [Node.js]- Using the repo to build the Node.js application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/getting_started_dev_java">Dev [Java] - Using the repo to build the Java application locally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/getting_started_dev_dotnet">Dev [Dotnet] - Using the repo to build the Dotnet application locally</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Workloads</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/workloads">Workloads</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Frontend Web Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/intro_node_js">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/ide_node_js">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/environment_variables_nodejs">Enviroment Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/cli_webapp_frameworks">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/monorepo">Stacks Monorepo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/browser_support">Browser Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/frontend/server_side_cache">Server Side Cache</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Java Spring Boot REST API Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/intro_java">Introduction to the Java REST API application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/quickstart_java">Getting started with the Java Rest API application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/scaffolding_java">Using the Scaffolding CLI to create the Java Rest API project template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/ide_java">IDE guidelines for the Java Rest API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/structure_java">Java Rest API Structure and Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/testing_java">Testing the Java Rest API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/java/end_to_end_testing_java">End to end automation testing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">.NET Core REST API Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/introduction_netcore">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/requirements_netcore">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/create_project_netcore">Create the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/configure_project_netcore">Configure the project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/build_and_run_project_netcore">Build &amp; Run the Project</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Test</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/testing/functional_testing_netcore">Functional testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/testing/performance_testing_netcore">Performance testing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/deploy_project_netcore">Deployment</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Swagger Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/swagger_configuration/configure_swagger_netcore">Swagger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/quickstart/swagger_configuration/configure_swagger_ui_netcore">Swagger UI</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/logging_netcore">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/security_netcore">Security</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/project_structure/architecture_overview_netcore">Architecture Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/project_structure/repository_overview_netcore">Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/workloads/netcore/project_structure/project_structure_netcore">Project Structure</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Infrastructure</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Azure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/infrastructure/azure/infrastructure_code">Infrastructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/infrastructure/azure/pipeline_templates">Pipeline Templates</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/testing/testing">Testing and quality</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/testing/cli_testing_frameworks">Project Types - Testing</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/stacks/docs/testing/testing_serenity_bdd">E2E Serenity BDD Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/stacks/docs/testing/testing_static">Static Code Analysis</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Packages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/packages">Packages</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">npm</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/npm/publishing">Publishing Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/npm/scaffolding-cli/cli_process">CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/npm/scaffolding-cli/scaffolding_cli">scaffolding-cli</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">nuget</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/nuget/publishing_nuget">Publishing NuGet Packages</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">maven</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/packages/maven/dependency_management">Dependencies and Version Management</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/stacks/docs/support/faq">FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Testing - End to End Automation with Serenity BDD Java</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>Serenity BDD provides excellent integration with Selenium, which allows you to avoid a lot of the boilerplate and infrastructure code you normally need to deal with in automated web tests.
In particular, Serenity manages the driver lifecycle for you (so you donâ€™t need to create your own driver instances, or close them at the end of the tests).
Serenity can also be configured to automatically take screenshots throughout the tests, creating rich documentation of how each test played out.
When you write your tests in a fluent, readable manner, these screenshots become part of the &quot;living documentation&quot; of your application.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configurations"></a>Configurations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configurations" title="Direct link to heading">#</a></h3><p>The serenity.conf file need to be configured <a href="https://github.com/amido/stacks-webapp-template/blob/master/packages/scaffolding-cli/templates/test/xxAMIDOxx.xxSTACKSxx.E2E.Serenity/src/test/resources/serenity.conf" target="_blank" rel="noopener noreferrer">Serenity conf</a></p><p>The following properties for different environments are required in the src/test/resources/serenity.conf configuration file.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  webdriver.base.url</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  api.base.url</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  WebDriver Downloads</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - If you wish to use a local instance of Serenity Webdriver, be sure to download the WebDriver file for the browsers with which you wish to perform cross browser testing</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  from the links mentioned below:</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="browser-download-location"></a>Browser Download Location<a aria-hidden="true" tabindex="-1" class="hash-link" href="#browser-download-location" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1) [Opera](https://github.com/operasoftware/operachromiumdriver/releases)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2) [Firefox](https://github.com/mozilla/geckodriver/releases)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">3) [Chrome](http://chromedriver.chromium.org/downloads)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4) [Internet Explorer](https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">5) [Microsoft Edge](https://blogs.windows.com/msedgedev/2015/07/23/bringing-automated-testing-to-microsoft-edge-through-webdriver/)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Configure the serenity.properties file:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   serenity.take.screenshots - Set this property to have more finer control on how screenshots are taken, default is serenity.take.screenshots=BEFORE_AND_AFTER_EACH_STEP This property can take the following values:</span></div></div></div></div></div><p>FOR_EACH_ACTION: Saves a screenshot at every web element action (like click(), typeAndEnter(), type(), typeAndTab() etc.).
BEFORE_AND_AFTER_EACH_STEP: Saves a screenshot before and after every step.
AFTER_EACH_STEP: Saves a screenshot after every step
FOR_FAILURES: Saves screenshots only for failing steps.
DISABLED: Does not save screenshots for any steps.
webdriver.driver - What browser do you want your tests to run in, for example firefox, chrome, phantomjs or iexplorer.</p><p>webdriver.chrome.driver - Path to the Chrome driver, if it is not on the system path.</p><p>More properties here: <a href="https://serenity-bdd.github.io/theserenitybook/latest/serenity-system-properties.html" target="_blank" rel="noopener noreferrer">https://serenity-bdd.github.io/theserenitybook/latest/serenity-system-properties.html</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="run-tests-locally"></a>Run Tests Locally<a aria-hidden="true" tabindex="-1" class="hash-link" href="#run-tests-locally" title="Direct link to heading">#</a></h3><p>Open current folder in the terminal</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Execute tests by running one of the following commands:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">a. Run all tests on the default environment: mvn clean verify</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b. Run all tests on the specific environment e.g. staging: mmvn clean verify -Denvironment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">staging</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b. Run Smoke tests only: mvn clean verify -Dcucumber.options</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--tags @Smoke&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">c. Run Functional tests only: mvn clean verify -Dcucumber.options</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--tags @Functional&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">d. Run tests by other tags and ignore tests that contain @Ignore tags: mvn clean verify verify -Dcucumber.options</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--tags ~@Ignore --tags @YourTag&quot;</span></div></div></div></div></div><p>Check the output report
As a result of the test execution - serenity-maven-plugin will automatically generate the test report with name - index.html.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Test Report Location is: ..target/site/serenity/index.html</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="manual-aggregation-of-the-test-report"></a>Manual Aggregation of the Test Report<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manual-aggregation-of-the-test-report" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Open the </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/E2E/Serenity path </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> the terminal</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Execute the mvn serenity:aggregate </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">- Running tests </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> parallel threads - Using forks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Note </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> Choosing the right forking strategy and parallel execution settings can have a substantial impact on the memory requirements</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  and the execution </span><span class="token function" style="color:rgb(130, 170, 255)">time</span><span class="token plain"> of the build system. Using multiple forks can be a good alternative to running all tests </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> a single JVM, and can reduce the risk of certain types of errors.</span></div></div></div></div></div><p>Using Forked Test Execution, new JVM processes are spun up to execute the tests, up to a configurable maximum number of processes.
This creates better separation between tests, which can improve their reliability.</p><p>Maven is set to spawn new processes by the forkCount configuration element, as shown here below.
This can either be a number (the maximum number of forks) or a multiplier (the number of forks per CPU). The current configuration uses the value of &quot;2&quot;, which means 2 forked processes per CPU:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">maven-failsafe-plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">2.22.2</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">parallel</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">classes</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">parallel</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">threadCount</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">threadCount</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">forkCount</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">forkCount</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">plugin</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><p><strong>Note</strong>
The more threads are used, the higher the chances of sporadic, hard-to-reproduce test failures due to timeouts and other related issues. The added performance gain of each thread also tends to drop off for higher numbers of threads.pper-left box, drag-and-drop a file, or open one with the chooser at the top.
Content gets parsed and displayed in the upper-right box; rule violations (if any) show up in the lower-right box.
Click a violation for information about it or click its line number to highlighted it in the lower-left box.</p><blockquote><p><em>Note</em>: <a href="https://github.com/DavidAnson/markdownlint/blob/master/doc/Rules.md" target="_blank" rel="noopener noreferrer">All rules</a> are enabled except <a href="https://github.com/DavidAnson/markdownlint/blob/master/doc/Rules.md#md013" target="_blank" rel="noopener noreferrer">MD013/line-length</a> and <a href="https://github.com/DavidAnson/markdownlint/blob/master/doc/Rules.md#md002" target="_blank" rel="noopener noreferrer">MD002/first-heading-h1</a> (deprecated).</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="resources"></a>Resources<a aria-hidden="true" tabindex="-1" class="hash-link" href="#resources" title="Direct link to heading">#</a></h4><ul><li><a href="https://github.com/DavidAnson/markdownlint" target="_blank" rel="noopener noreferrer"><code>markdownlint</code> on GitHub</a></li><li><a href="https://www.npmjs.com/package/markdownlint" target="_blank" rel="noopener noreferrer"><code>markdownlint</code> on npm</a></li><li><a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="noopener noreferrer">Markdown specification</a></li><li><a href="https://commonmark.org/" target="_blank" rel="noopener noreferrer">CommonMark specification</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="thanks"></a>Thanks<a aria-hidden="true" tabindex="-1" class="hash-link" href="#thanks" title="Direct link to heading">#</a></h4><p><a href="https://github.com/markdownlint/markdownlint" target="_blank" rel="noopener noreferrer"><code>markdownlint/Ruby</code></a> for the inspiration and <a href="https://github.com/markdown-it/markdown-it" target="_blank" rel="noopener noreferrer"><code>markdown-it</code></a> for the parser and interactive demo idea!</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/amido/stacks/docs/testing/testing_serenity_bdd.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/stacks/docs/testing/cli_testing_frameworks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Project Types - Testing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/stacks/docs/testing/testing_static"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing - Static Code Analysis Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting started</a><ul><li><a href="#configurations" class="table-of-contents__link">Configurations</a></li><li><a href="#browser-download-location" class="table-of-contents__link">Browser Download Location</a></li><li><a href="#run-tests-locally" class="table-of-contents__link">Run Tests Locally</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/stacks/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About Us</h4><ul class="footer__items"><li class="footer__item"><a href="https://amido.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Amido</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Open Source</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/amido/stacks" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Amido Ltd</div></div></div></footer></div>
<script src="/stacks/styles.a9aa97cb.js"></script>
<script src="/stacks/runtime~main.07fe97c7.js"></script>
<script src="/stacks/main.07e3b808.js"></script>
<script src="/stacks/1.708654f4.js"></script>
<script src="/stacks/2.fc96d4af.js"></script>
<script src="/stacks/3.c611d954.js"></script>
<script src="/stacks/1be78505.4bc75bd4.js"></script>
<script src="/stacks/81.27d21960.js"></script>
<script src="/stacks/935f2afb.6e42c6a8.js"></script>
<script src="/stacks/17896441.048ebb65.js"></script>
<script src="/stacks/2103665d.3418cf1f.js"></script>
</body>
</html>