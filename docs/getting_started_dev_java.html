<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Using the repo to build the Java application locally · Amido Stacks</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## GETTING STARTED WITH THE JAVA SPRINGBOOT APPLICATION"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Using the repo to build the Java application locally · Amido Stacks"/><meta property="og:type" content="website"/><meta property="og:url" content="https://amido.github.io/stacks/"/><meta property="og:description" content="## GETTING STARTED WITH THE JAVA SPRINGBOOT APPLICATION"/><meta name="twitter:card" content="summary"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/stacks/"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script src="/stacks/js/scrollSpy.js"></script><link rel="stylesheet" href="/stacks/css/main.css"/><script src="/stacks/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/stacks/"><h2 class="headerTitle">Amido Stacks</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/stacks/docs/" target="_self">Docs</a></li><li class=""><a href="https://github.com/amido/stacks" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Build the application</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/stacks/docs/">About Amido Stacks</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Build the application</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/getting_started_demo">Using the scaffolding-cli to build an application</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/getting_started_dev">Dev [Node.js]- Using the repo to build the Node.js application</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/stacks/docs/getting_started_dev_java">Dev [Java] - Using the repo to build the Java application locally</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/getting_started_dev_dotnet">Dev [Dotnet] - Using the repo to build the Dotnet application locally</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Workloads<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/stacks/docs/workloads/workloads">Workloads</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Frontend Web Applications</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/workloads/frontend/browser_support">Browser Support</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/workloads/frontend/cli_webapp_frameworks">Project Types - Web applications</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/workloads/frontend/monorepo">Stacks Monorepo</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/workloads/frontend/server_side_cache">Server Side Cache</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Infrastructure<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Azure</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/infrastructure/azure/infrastructure_code">Infrastructure</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/infrastructure/azure/pipeline_templates">Pipeline Templates</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Testing<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/stacks/docs/testing/testing">Testing and quality</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/testing/cli_testing_frameworks">Project Types - Testing</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/testing/testing_serenity_bdd">E2E Serenity BDD Java</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/testing/testing_static">Static Code Analysis</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Packages<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/packages">Packages</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">npm</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/npm/publishing">Publishing Packages</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/npm/scaffolding-cli/cli_process">CLI</a></li><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/npm/scaffolding-cli/scaffolding_cli">scaffolding-cli</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">nuget</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/nuget/publishing_nuget">Publishing NuGet Packages</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">maven</h4><ul><li class="navListItem"><a class="navItem" href="/stacks/docs/packages/maven/dependency_management">Dependencies and Version Management</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Support<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/stacks/docs/support/faq">FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Using the repo to build the Java application locally</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="getting-started-with-the-java-springboot-application"></a><a href="#getting-started-with-the-java-springboot-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GETTING STARTED WITH THE JAVA SPRINGBOOT APPLICATION</h2>
<h3><a class="anchor" aria-hidden="true" id="running-the-application-locally"></a><a href="#running-the-application-locally" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RUNNING THE APPLICATION LOCALLY</h3>
<ol>
<li><p>Clone the Java project to your local machine from here: <a href="https://github.com/amido/stacks-java">stacks-java repository</a></p></li>
<li><p>Configure required environment variables</p>
<p>The application is currently configured to work with the Azure environment.</p>
<p>It uses an Azure <strong>CosmosDB</strong> database to store the example application data. In addition, Azure <strong>ApplicationInsights</strong> is used for logging purposes.
There are two corresponding environment variables that need to be set to interact with these systems:</p>
<pre><code class="hljs css language-text">AZURE_COSMOSDB_KEY
AZURE_APPLICATION_INSIGHTS_INSTRUMENTATION_KEY
</code></pre>
<p>For Unix systems, set them as additional variables within e.g. <code>~/.profile</code> or <code>/etc/profile</code>.</p>
<p>For Windows, open System Properties then select the Advanced tab, then click on the Environment Variables button and add the new parameters.</p>
<p>Note: For running on local environments, you can use the <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/local-emulator?tabs=ssl-netstd21">Cosmos DB emulator</a> (CosmosDB Emulator has a known fixed key).
For ApplicationInsights, modify the application so that it doesn't fail to startup if it can't access ApplicationInsights,
and simply log to the terminal instead.</p></li>
<li><p>Build and run the application</p>
<p>Move to the <code>&lt;PROJECT-NAME&gt;/java</code> folder, then</p>
<p>Unix:</p>
<pre><code class="hljs css language-text">./mvnw spring-boot:run
</code></pre>
<p>Windows:</p>
<pre><code class="hljs css language-text">mvnw.cmd spring-boot:run
</code></pre></li>
<li><p>Verify that the application has started</p>
<p>Browse to <a href="http://localhost:9000/v1/menu">http://localhost:9000/v1/menu</a>. This should return a valid JSON response.</p>
<p>The application configuration uses Swagger/OAS3 to represent the API endpoints. The Swagger UI can be viewed by directing your
browser to <a href="http://localhost:9000/swagger/index.html">http://localhost:9000/swagger/index.html</a>.</p></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="authorization"></a><a href="#authorization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AUTHORIZATION</h3>
<p>All API endpoints are (optionally) protected using <strong>Auth0</strong>. There is an <code>auth.properties</code> file within the project codebase.
If the following property within this file is set:</p>
<pre><code class="hljs css language-text">auth.isEnabled=true
</code></pre>
<p>then clients will need to pass an <code>Authorization</code> header containing the Bearer token generated from Auth0 as part of the endpoint request. If the value
is set to <code>false</code> then no authorization is required.</p>
<h4><a class="anchor" aria-hidden="true" id="auth0-configuration-properties"></a><a href="#auth0-configuration-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AUTH0 CONFIGURATION PROPERTIES</h4>
<p>If using Auth0 for authorization, Auth0 itself will need to be configured with both an API definition and an associated Application.
There are corresponding configuration values required for the Stacks application, within the <code>auth.properties</code> file, e.g.</p>
<pre><code class="hljs css language-text">auth0.issuer=https://amidostacks.eu.auth0.com/
auth0.apiAudience=https://amidostacks.eu.auth0.com/api/v2/
</code></pre>
<p>These parameters are used to verify that the JWT supplied in the Authorization header of a request is valid.</p>
<h3><a class="anchor" aria-hidden="true" id="ide-guidelines"></a><a href="#ide-guidelines" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IDE GUIDELINES</h3>
<p>We recommend that you install the following plugins</p>
<pre><code class="hljs css language-text">google-java-format
Lombok
SonarLint
Spring Assistant
CheckStyle
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="plugins-used-in-pom-xml"></a><a href="#plugins-used-in-pom-xml" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PLUGINS USED IN POM XML</h3>
<ul>
<li>Lombok - To write cleaner code and to avoid having to write boiler plate code
(for example: Getter, Setter, RequiredArgsConstructor, ToString, EqualsAndHashCode) in Java classes.</li>
<li>JaCoCo - A free Java code test coverage library.</li>
<li>Surefire - Used for reporting purposes (creates reports based on tests in the Java test package).</li>
<li>fmt-maven-plugin - Formats the java code based on rules in java-google-style.xml.</li>
<li>Spotbugs - Performs a static analysis of the Java code to check for bugs.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="running-tests"></a><a href="#running-tests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RUNNING TESTS</h3>
<p>Tests within the code are grouped using Tag annotations. There are three groups: 'Unit', 'Component' and 'Integration'. To just run the unit tests, for example, type:</p>
<pre><code class="hljs css language-text">./mvnw test -Dgroups="Unit"
</code></pre>
<p>Similarly, for the Component tests, you should use:</p>
<pre><code class="hljs css language-text">./mvnw test -Dgroups="Component"
</code></pre>
<p>and the equivalent for running the Integration tests.</p>
<h3><a class="anchor" aria-hidden="true" id="reports"></a><a href="#reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>REPORTS</h3>
<h4><a class="anchor" aria-hidden="true" id="test-reports"></a><a href="#test-reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TEST REPORTS</h4>
<p>A test report may be created from the <code>test</code> package in Java using the Surefire Plugin.
The report file (as either XML or HTML) generated for each of the test classes can be found under <code>&lt;PROJECT-NAME&gt;/target/surefire-reports</code>.</p>
<p>Run the following command to create the report:</p>
<pre><code class="hljs css language-text">./mvnw surefire:test
</code></pre>
<p>To generate the Serenity report:</p>
<pre><code class="hljs css language-text">./mvnw clean verify
</code></pre>
<p>The report can be viewed under <code>&lt;PROJECT-NAME&gt;/api-tests/target/site/serenity/index.html</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="code-coverage--dependency-check-reports"></a><a href="#code-coverage--dependency-check-reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CODE COVERAGE &amp; DEPENDENCY CHECK REPORTS</h4>
<p>Run the following command:</p>
<pre><code class="hljs css language-text">./mvnw jacoco:report
</code></pre>
<p>The generated report can be viewed under <code>&lt;PROJECT-NAME&gt;/target/site/jacoco/index.html</code>.</p>
<p>For the dependency checker report, run:</p>
<pre><code class="hljs css language-text">./mvnw clean install -Powasp-dependency-check
</code></pre>
<p>The generated report can be viewed under <code>&lt;PROJECT-NAME&gt;/target/dependency-check.html</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="using-a-docker-image"></a><a href="#using-a-docker-image" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>USING A DOCKER IMAGE</h3>
<p>From the <code>&lt;PROJECT-NAME&gt;/java</code> folder, build a Docker image using e.g. the command below:</p>
<pre><code class="hljs css language-text">docker build --tag stacks:1.0 .
</code></pre>
<p>This uses the <code>Dockerfile</code> in this folder to generate the Docker image.</p>
<p>If you have an <code>.m2</code> directory in the <code>java/</code> folder, the Docker build will attempt to copy the files inside the container and use the cached versions.</p>
<p>Once the Docker image is created, you can then run a Docker container based on this image using e.g.</p>
<pre><code class="hljs css language-text">docker run -p 9000:9000 -e AZURE_APPLICATION_INSIGHTS_INSTRUMENTATION_KEY -e AZURE_COSMOSDB_KEY stacks:1.0
</code></pre>
<p>which passes in the two required environment variables from your own environment.</p>
<h4><a class="anchor" aria-hidden="true" id="swaggeroas"></a><a href="#swaggeroas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SWAGGER/OAS</h4>
<ul>
<li>Automatically generated for the project. Go to <a href="http://localhost:9000/swagger/index.html">Swagger Index</a> to view.</li>
<li>Swagger Json is here: <a href="http://localhost:9000/swagger/oas.json">Swagger Json</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="health-check"></a><a href="#health-check" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HEALTH CHECK</h4>
<ul>
<li>Available at: <a href="http://localhost:9000/health">health check</a>
(This can also be configured to run on another port)</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="using-the-scaffolding-cli-to-create-a-java-springboot-project-template"></a><a href="#using-the-scaffolding-cli-to-create-a-java-springboot-project-template" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>USING THE SCAFFOLDING CLI TO CREATE A JAVA SPRINGBOOT PROJECT TEMPLATE</h2>
<p>The Amido Stacks Scaffolding CLI can be used to create a fully-functional and deployable project from a template, in a variety of flavours.
It includes tests (unit, integration), together with infrastructure and deployment definitions. All by running from your CLI.</p>
<p>We use npx to execute and create the
<a href="https://www.npmjs.com/package/@amidostacks/scaffolding-cli">template-cli</a>
<a href="https://www.npmjs.com/package/npx">npx</a>.</p>
<p>We are supporting and running <a href="https://nodejs.org/en/about/releases/">node@12</a>.
Please ensure that your local environment has the correct version <a href="https://nodejs.org/en/download/">installed</a>.</p>
<p>To run the Scaffolding CLI, use the following commands</p>
<pre><code class="hljs css language-text">npx @amidostacks/scaffolding-cli@latest run -i  
</code></pre>
<p>You will be asked a number of questions. Based on the answers, your ready-to-build project template will be produced.</p>
<p>An example is shown in the video below.</p>
<p><a href="https://asciinema.org/a/358208"><img src="https://asciinema.org/a/358208.svg" alt="asciicast"></a></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 9/23/2020 by Steve Clewer</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/stacks/docs/getting_started_dev"><span class="arrow-prev">← </span><span>Dev [Node.js]- Using the repo to build the Node.js application</span></a><a class="docs-next button" href="/stacks/docs/getting_started_dev_dotnet"><span>Dev [Dotnet] - Using the repo to build the Dotnet application locally</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#getting-started-with-the-java-springboot-application">GETTING STARTED WITH THE JAVA SPRINGBOOT APPLICATION</a><ul class="toc-headings"><li><a href="#running-the-application-locally">RUNNING THE APPLICATION LOCALLY</a></li><li><a href="#authorization">AUTHORIZATION</a></li><li><a href="#ide-guidelines">IDE GUIDELINES</a></li><li><a href="#plugins-used-in-pom-xml">PLUGINS USED IN POM XML</a></li><li><a href="#running-tests">RUNNING TESTS</a></li><li><a href="#reports">REPORTS</a></li><li><a href="#using-a-docker-image">USING A DOCKER IMAGE</a></li></ul></li><li><a href="#using-the-scaffolding-cli-to-create-a-java-springboot-project-template">USING THE SCAFFOLDING CLI TO CREATE A JAVA SPRINGBOOT PROJECT TEMPLATE</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/stacks/" class="nav-home"></a><div><h5>Docs</h5><a href="/stacks/docs/index">Getting Started</a></div><div><h5>About Us</h5><a href="https://amido.com/">Amido</a></div><div><h5>Open Source</h5><a href="https://github.com/amido/stacks" rel="noreferrer noopener" target="_blank">GitHub</a></div></section><a href="https://github.com/amido/stacks" target="_blank" rel="noreferrer noopener" class="fbOpenSource"></a><section class="copyright">Copyright © 2020 Amido Ltd</section></footer></div></body></html>